"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[297],{976:function(e,n,t){t.d(n,{MJ:function(){return h},Tg:function(){return l},dC:function(){return f},qn:function(){return p},z1:function(){return d}});var r=t(861),c=t(757),i=t.n(c),s="https://api.themoviedb.org/3",o="?api_key=2ddded2d287329b6efbf335a6f8f3bd4";function a(e){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n);case 2:if(!(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=Promise.reject(new Error("404 Not found"));case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return a("".concat(s,"/trending/movie/day").concat(o))}function d(e){return a("".concat(s,"/search/movie").concat(o,"&query=").concat(e))}function f(e){return a("".concat(s,"/movie/").concat(e).concat(o))}function h(e){return a("".concat(s,"/movie/").concat(e,"/credits").concat(o))}function p(e){return a("".concat(s,"/movie/").concat(e,"/reviews").concat(o))}},297:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var r,c,i,s=t(885),o=t(501),a=t(871),u=t(168),l=t(31),d=l.ZP.div(r||(r=(0,u.Z)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n"]))),f=l.ZP.div(c||(c=(0,u.Z)(["\n  margin-left: 20px;\n"]))),h=l.ZP.p(i||(i=(0,u.Z)(["\n  font-weight: 700;\n"]))),p=t(976),x=t(791),m=t(184);function v(){var e,n,t=(0,x.useState)(null),r=(0,s.Z)(t,2),c=r[0],i=r[1],u=(0,x.useState)(null),l=(0,s.Z)(u,2),v=l[0],j=l[1],g=(0,a.UO)().movieId,k=null!==(e=null===(n=(0,a.TH)().state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/",w=(0,x.useRef)(k);return(0,x.useEffect)((function(){(0,p.dC)(g).then((function(e){return i(e)})).catch((function(e){return j(e)}))}),[g]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h1",{children:"MovieDetailsPage"}),(0,m.jsx)(o.rU,{to:k,children:"Back"}),c&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(d,{children:[(0,m.jsx)("img",{src:"https://image.tmdb.org/t/p/original".concat(c.poster_path),width:"300",alt:c.original_name||c.original_title}),(0,m.jsxs)(f,{children:[(0,m.jsxs)("h2",{children:[c.original_name||c.original_title," (",c.release_date.slice(0,4),")"]}),(0,m.jsxs)("p",{children:["User score: ",c.vote_average]}),(0,m.jsx)(h,{children:"Overview:"}),(0,m.jsxs)("p",{children:[" ",c.overview]}),(0,m.jsx)(h,{children:"Genres"}),(0,m.jsxs)("p",{children:[" ",c.genres.map((function(e){return e.name})).join(", ")]})]})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{children:"Additional information"}),(0,m.jsxs)("ul",{children:[(0,m.jsx)("li",{children:(0,m.jsx)(o.OL,{to:"cast",state:{from:w.current},children:"Cast"})}),(0,m.jsx)("li",{children:(0,m.jsx)(o.OL,{to:"reviews",state:{from:w.current},children:"Reviews"})})]})]}),(0,m.jsx)(x.Suspense,{fallback:(0,m.jsx)("div",{children:"Loading page..."}),children:(0,m.jsx)(a.j3,{})})]}),v&&(0,m.jsxs)("h2",{children:["Sorry! Backend server response problem, ",v.message]})]})}}}]);
//# sourceMappingURL=297.c7db29db.chunk.js.map